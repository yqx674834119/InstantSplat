INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Will watch for changes in these directories: ['/home/livablecity/InstantSplat']
INFO:     Uvicorn running on http://0.0.0.0:3080 (Press CTRL+C to quit)
INFO:     Started reloader process [19864] using StatReload
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [19879]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     66.90.98.180:0 - "GET / HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     50.7.253.67:0 - "GET / HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET / HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET / HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:43916 - "GET / HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET / HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET / HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: None
INFO:api_server:email参数类型: <class 'NoneType'>, 是否为None: True
INFO:api_server:zip文件验证成功，包含13张图像
INFO:api_server:生成任务ID: 2d86f646-f121-4931-85a7-f077843194a1
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/temp_scan_images.zip
INFO:api_server:成功提取13张图像到/home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/images
INFO:task_manager:创建任务: 2d86f646-f121-4931-85a7-f077843194a1, 类型: image_reconstruction
INFO:api_server:任务创建成功: 2d86f646-f121-4931-85a7-f077843194a1
INFO:     50.7.253.67:0 - "POST /upload HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 2d86f646-f121-4931-85a7-f077843194a1: 13张图像
INFO:api_server:任务 2d86f646-f121-4931-85a7-f077843194a1 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 2d86f646-f121-4931-85a7-f077843194a1 状态更新为: extracting
INFO:api_server:任务 2d86f646-f121-4931-85a7-f077843194a1: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1，包含13张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1 -m /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views --n_views 13 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1 -m /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views -r 1 --n_views 13 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views/02_train.log
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/2d86f646-f121-4931-85a7-f077843194a1 -m /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views -r 1 --n_views 13 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views/03_render.log
INFO:task_manager:任务 2d86f646-f121-4931-85a7-f077843194a1 状态更新为: completed
INFO:task_manager:任务 2d86f646-f121-4931-85a7-f077843194a1 结果已设置
INFO:api_server:任务 2d86f646-f121-4931-85a7-f077843194a1: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/2d86f646-f121-4931-85a7-f077843194a1/13_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:True keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/2d86f646-f121-4931-85a7-f077843194a1 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: None
INFO:api_server:email参数类型: <class 'NoneType'>, 是否为None: True
INFO:api_server:zip文件验证成功，包含23张图像
INFO:api_server:生成任务ID: c72ab446-3ba9-4eef-8309-82813eed9597
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/temp_scan_images.zip
INFO:api_server:成功提取23张图像到/home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/images
INFO:task_manager:创建任务: c72ab446-3ba9-4eef-8309-82813eed9597, 类型: image_reconstruction
INFO:api_server:任务创建成功: c72ab446-3ba9-4eef-8309-82813eed9597
INFO:     50.7.253.67:0 - "POST /upload HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 c72ab446-3ba9-4eef-8309-82813eed9597: 23张图像
INFO:api_server:任务 c72ab446-3ba9-4eef-8309-82813eed9597 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 c72ab446-3ba9-4eef-8309-82813eed9597 状态更新为: extracting
INFO:api_server:任务 c72ab446-3ba9-4eef-8309-82813eed9597: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597，包含23张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views --n_views 23 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views -r 1 --n_views 23 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views/02_train.log
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views -r 1 --n_views 23 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views/03_render.log
INFO:task_manager:任务 c72ab446-3ba9-4eef-8309-82813eed9597 状态更新为: completed
INFO:task_manager:任务 c72ab446-3ba9-4eef-8309-82813eed9597 结果已设置
INFO:api_server:任务 c72ab446-3ba9-4eef-8309-82813eed9597: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/c72ab446-3ba9-4eef-8309-82813eed9597/23_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:True keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/c72ab446-3ba9-4eef-8309-82813eed9597 HTTP/1.1" 200 OK
INFO:     127.0.0.1:37080 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:37080 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:36760 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:50736 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:57408 - "GET / HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET / HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: None
INFO:api_server:email参数类型: <class 'NoneType'>, 是否为None: True
INFO:api_server:zip文件验证成功，包含9张图像
INFO:api_server:生成任务ID: 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/temp_scan_images.zip
INFO:api_server:成功提取9张图像到/home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/images
INFO:task_manager:创建任务: 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66, 类型: image_reconstruction
INFO:api_server:任务创建成功: 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66
INFO:     66.90.98.180:0 - "POST /upload HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66: 9张图像
INFO:api_server:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 状态更新为: extracting
INFO:api_server:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66，包含9张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 -m /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views --n_views 9 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views/01_init_geo.log
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:     66.90.98.180:0 - "GET /status/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 -m /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views -r 1 --n_views 9 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views/02_train.log
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 -m /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views -r 1 --n_views 9 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views/03_render.log
INFO:task_manager:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 状态更新为: completed
INFO:task_manager:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66 结果已设置
INFO:api_server:任务 64ffa366-f9c9-4e68-9bb3-2a242b6b9f66: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/64ffa366-f9c9-4e68-9bb3-2a242b6b9f66/9_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:True keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:     50.7.253.68:0 - "GET / HTTP/1.1" 200 OK
INFO:     50.7.253.68:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: None
INFO:api_server:email参数类型: <class 'NoneType'>, 是否为None: True
INFO:api_server:zip文件验证成功，包含5张图像
INFO:api_server:生成任务ID: 8c250d4f-3f7b-4c7c-898e-7fa941c34784
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/temp_scan_images.zip
INFO:api_server:成功提取5张图像到/home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/images
INFO:task_manager:创建任务: 8c250d4f-3f7b-4c7c-898e-7fa941c34784, 类型: image_reconstruction
INFO:api_server:任务创建成功: 8c250d4f-3f7b-4c7c-898e-7fa941c34784
INFO:     50.7.253.67:0 - "POST /upload HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784: 5张图像
INFO:api_server:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784 状态更新为: extracting
INFO:api_server:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784，包含5张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views --n_views 5 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views -r 1 --n_views 5 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views/02_train.log
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views -r 1 --n_views 5 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views/03_render.log
INFO:task_manager:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784 状态更新为: completed
INFO:task_manager:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784 结果已设置
INFO:api_server:任务 8c250d4f-3f7b-4c7c-898e-7fa941c34784: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/8c250d4f-3f7b-4c7c-898e-7fa941c34784/5_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:True keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /result/8c250d4f-3f7b-4c7c-898e-7fa941c34784 HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含11张图像
INFO:api_server:生成任务ID: 5350e11a-155b-48d1-9cba-a71c8d7c4a65
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/temp_scan_images.zip
INFO:api_server:成功提取11张图像到/home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/images
INFO:task_manager:创建任务: 5350e11a-155b-48d1-9cba-a71c8d7c4a65, 类型: image_reconstruction
INFO:api_server:任务创建成功: 5350e11a-155b-48d1-9cba-a71c8d7c4a65
INFO:     50.7.253.67:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65: 11张图像
INFO:api_server:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65 状态更新为: extracting
INFO:api_server:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65，包含11张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views --n_views 11 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views -r 1 --n_views 11 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views/02_train.log
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'reconstruction_processor.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for background tasks to complete. (CTRL+C to force quit)
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views -r 1 --n_views 11 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views/03_render.log
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:task_manager:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65 状态更新为: completed
INFO:task_manager:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65 结果已设置
INFO:api_server:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/5350e11a-155b-48d1-9cba-a71c8d7c4a65/11_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练完成 - 任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '79728233-5a76-42fb-9464-f51d337f0f51'}
INFO:api_server:任务 5350e11a-155b-48d1-9cba-a71c8d7c4a65: 邮件通知发送成功
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [19879]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [41537]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     50.7.253.67:0 - "GET /status/5350e11a-155b-48d1-9cba-a71c8d7c4a65 HTTP/1.1" 404 Not Found
WARNING:python_multipart.multipart:Expected boundary character 45, got 64 at index 2
INFO:     66.90.98.180:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 400 Bad Request
INFO:     104.238.222.124:0 - "GET / HTTP/1.1" 200 OK
INFO:     240e:47e:1090:2547:e1dd:9f82:506b:27df:0 - "GET / HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含19张图像
INFO:api_server:生成任务ID: f18c0d04-8cdc-47ac-b852-cf4af4a7460f
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/temp_scan_images.zip
INFO:api_server:成功提取19张图像到/home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/images
INFO:task_manager:创建任务: f18c0d04-8cdc-47ac-b852-cf4af4a7460f, 类型: image_reconstruction
INFO:api_server:任务创建成功: f18c0d04-8cdc-47ac-b852-cf4af4a7460f
INFO:     104.238.222.124:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f: 19张图像
INFO:api_server:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f 状态更新为: extracting
INFO:api_server:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f，包含19张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f -m /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views --n_views 19 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views/01_init_geo.log
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f -m /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views -r 1 --n_views 19 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views/02_train.log
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f -m /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views -r 1 --n_views 19 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views/03_render.log
INFO:task_manager:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f 状态更新为: completed
INFO:task_manager:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f 结果已设置
INFO:api_server:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/f18c0d04-8cdc-47ac-b852-cf4af4a7460f/19_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练完成 - 任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '8685afaf-8ba4-459c-b0ca-0fd6e36fcd67'}
INFO:api_server:任务 f18c0d04-8cdc-47ac-b852-cf4af4a7460f: 邮件通知发送成功
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/f18c0d04-8cdc-47ac-b852-cf4af4a7460f HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含13张图像
INFO:api_server:生成任务ID: a817c613-a19b-48f9-b7bd-33c43d5ffc79
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/temp_scan_images.zip
INFO:api_server:成功提取13张图像到/home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/images
INFO:task_manager:创建任务: a817c613-a19b-48f9-b7bd-33c43d5ffc79, 类型: image_reconstruction
INFO:api_server:任务创建成功: a817c613-a19b-48f9-b7bd-33c43d5ffc79
INFO:     66.90.98.179:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79: 13张图像
INFO:api_server:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79 状态更新为: extracting
INFO:api_server:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79，包含13张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views --n_views 13 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views/01_init_geo.log
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views -r 1 --n_views 13 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views/02_train.log
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views -r 1 --n_views 13 --iterations 500 --infer_video
INFO:task_manager:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79 状态更新为: completed
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views/03_render.log
INFO:task_manager:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79 结果已设置
INFO:api_server:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/a817c613-a19b-48f9-b7bd-33c43d5ffc79/13_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练完成 - 任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '5c8112ee-44a9-4d00-9a38-f12137ad57ac'}
INFO:api_server:任务 a817c613-a19b-48f9-b7bd-33c43d5ffc79: 邮件通知发送成功
INFO:     66.90.98.179:0 - "GET /status/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /result/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:     66.90.98.179:0 - "GET / HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含18张图像
INFO:api_server:生成任务ID: 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/temp_scan_images.zip
INFO:api_server:成功提取18张图像到/home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/images
INFO:task_manager:创建任务: 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2, 类型: image_reconstruction
INFO:api_server:任务创建成功: 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2
INFO:     66.90.98.179:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2: 18张图像
INFO:api_server:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 状态更新为: extracting
INFO:api_server:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2，包含18张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 -m /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views --n_views 18 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views/01_init_geo.log
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     66.90.98.179:0 - "GET /status/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 -m /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views -r 1 --n_views 18 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views/02_train.log
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 -m /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views -r 1 --n_views 18 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views/03_render.log
INFO:task_manager:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 状态更新为: completed
INFO:task_manager:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 结果已设置
INFO:api_server:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2/18_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练完成 - 任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '5c50802f-27de-46ca-87e4-35b59ece892a'}
INFO:api_server:任务 6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully


INFO:ReconstructionProcessor:Async rendering task completed
INFO:     63.117.14.11:0 - "GET /result/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OINFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含31张图像
INFO:api_server:生成任务ID: a1ad1557-4b78-43ad-b24d-aa85401a99f0
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0/temp_scan_images.zip
INFO:api_server:成功提取31张图像到/home/livablecity/InstantSplat/assets/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0/images
INFO:task_manager:创建任务: a1ad1557-4b78-43ad-b24d-aa85401a99f0, 类型: image_reconstruction
INFO:api_server:任务创建成功: a1ad1557-4b78-43ad-b24d-aa85401a99f0
INFO:     66.90.98.178:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0: 31张图像
INFO:api_server:任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0 状态更新为: extracting
INFO:api_server:任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0，包含31张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0/31_views --n_views 31 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a1ad1557-4b78-43ad-b24d-aa85401a99f0/31_views/01_init_geo.log
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
INFO:     66.90.98.178:0 - "GET /status/a1ad1557-4b78-43ad-b24d-aa85401a99f0 HTTP/1.1" 200 OK
ERROR:ReconstructionProcessor:Geometry initialization failed. Log content: t/dust3r/cloud_opt/base_opt.py", line 343, in global_alignment_loop
    loss, lr = global_alignment_iter(net, bar.n, niter, lr_base, lr_min, optimizer, schedule)
  File "/home/livablecity/InstantSplat/dust3r/cloud_opt/base_opt.py", line 362, in global_alignment_iter
    loss = net()
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
  File "/home/livablecity/InstantSplat/dust3r/cloud_opt/optimizer.py", line 195, in forward
    aligned_pred_j = geotrf(pw_poses, pw_adapt * self._stacked_pred_j)
  File "/home/livablecity/InstantSplat/dust3r/utils/geometry.py", line 86, in geotrf
    pts = pts @ Trf[..., :-1, :] + Trf[..., -1:, :]
RuntimeError: CUDA driver error: out of memory

ERROR:ReconstructionProcessor:Reconstruction failed: Geometry initialization failed
ERROR:api_server:多图像三维重建失败 a1ad1557-4b78-43ad-b24d-aa85401a99f0: Geometry initialization failed
ERROR:api_server:多图像任务处理失败 a1ad1557-4b78-43ad-b24d-aa85401a99f0: 多图像三维重建处理失败: Geometry initialization failed
ERROR:api_server:异常详情: Traceback (most recent call last):
  File "/home/livablecity/InstantSplat/api_server.py", line 872, in process_multi_image_task
    raise Exception(reconstruction_result.error_message or "多图像三维重建失败")
Exception: Geometry initialization failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/livablecity/InstantSplat/api_server.py", line 876, in process_multi_image_task
    raise Exception(f"多图像三维重建处理失败: {e}")
Exception: 多图像三维重建处理失败: Geometry initialization failed

INFO:task_manager:任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0 状态更新为: failed
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练失败 - 任务 a1ad1557-4b78-43ad-b24d-aa85401a99f0
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '8caede7b-6eec-4df9-b2fd-bc6836b994ef'}
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/6d9b2fc0-9ccc-4c05-a1d7-6c2a5bc8f0d2 HTTP/1.1" 200 OK
INFO:     63.88.73.69:0 - "GET /result/a817c613-a19b-48f9-b7bd-33c43d5ffc79 HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41537]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [46773]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含31张图像
INFO:api_server:生成任务ID: 686df950-7b90-49dd-9871-4fa5f32ffe58
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58/temp_scan_images.zip
INFO:api_server:成功提取31张图像到/home/livablecity/InstantSplat/assets/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58/images
INFO:task_manager:创建任务: 686df950-7b90-49dd-9871-4fa5f32ffe58, 类型: image_reconstruction
INFO:api_server:任务创建成功: 686df950-7b90-49dd-9871-4fa5f32ffe58
INFO:     104.238.222.124:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 686df950-7b90-49dd-9871-4fa5f32ffe58: 31张图像
INFO:api_server:任务 686df950-7b90-49dd-9871-4fa5f32ffe58 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 686df950-7b90-49dd-9871-4fa5f32ffe58 状态更新为: extracting
INFO:api_server:任务 686df950-7b90-49dd-9871-4fa5f32ffe58: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58，包含31张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58 -m /home/livablecity/InstantSplat/output_infer/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58/31_views --n_views 31 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/686df950-7b90-49dd-9871-4fa5f32ffe58/31_views/01_init_geo.log
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/686df950-7b90-49dd-9871-4fa5f32ffe58 HTTP/1.1" 200 OK
ERROR:ReconstructionProcessor:Geometry initialization failed. Log content: t/dust3r/cloud_opt/base_opt.py", line 343, in global_alignment_loop
    loss, lr = global_alignment_iter(net, bar.n, niter, lr_base, lr_min, optimizer, schedule)
  File "/home/livablecity/InstantSplat/dust3r/cloud_opt/base_opt.py", line 362, in global_alignment_iter
    loss = net()
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1736, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1747, in _call_impl
    return forward_call(*args, **kwargs)
  File "/home/livablecity/InstantSplat/dust3r/cloud_opt/optimizer.py", line 195, in forward
    aligned_pred_j = geotrf(pw_poses, pw_adapt * self._stacked_pred_j)
  File "/home/livablecity/InstantSplat/dust3r/utils/geometry.py", line 86, in geotrf
    pts = pts @ Trf[..., :-1, :] + Trf[..., -1:, :]
RuntimeError: CUDA driver error: out of memory

ERROR:ReconstructionProcessor:Reconstruction failed: Geometry initialization failed
ERROR:api_server:多图像三维重建失败 686df950-7b90-49dd-9871-4fa5f32ffe58: Geometry initialization failed
ERROR:api_server:多图像任务处理失败 686df950-7b90-49dd-9871-4fa5f32ffe58: 多图像三维重建处理失败: Geometry initialization failed
ERROR:api_server:异常详情: Traceback (most recent call last):
  File "/home/livablecity/InstantSplat/api_server.py", line 872, in process_multi_image_task
    raise Exception(reconstruction_result.error_message or "多图像三维重建失败")
Exception: Geometry initialization failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/livablecity/InstantSplat/api_server.py", line 876, in process_multi_image_task
    raise Exception(f"多图像三维重建处理失败: {e}")
Exception: 多图像三维重建处理失败: Geometry initialization failed

INFO:task_manager:任务 686df950-7b90-49dd-9871-4fa5f32ffe58 状态更新为: failed
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练失败 - 任务 686df950-7b90-49dd-9871-4fa5f32ffe58
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '1bdb7d7c-8102-4dd0-912b-570679fb4f87'}
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: y674834119@gmail.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含16张图像
INFO:api_server:生成任务ID: 96d9bf42-3b05-4f7a-8aef-b3b05558dbab
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/temp_scan_images.zip
INFO:api_server:成功提取16张图像到/home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/images
INFO:task_manager:创建任务: 96d9bf42-3b05-4f7a-8aef-b3b05558dbab, 类型: image_reconstruction
INFO:api_server:任务创建成功: 96d9bf42-3b05-4f7a-8aef-b3b05558dbab
INFO:     104.238.222.124:0 - "POST /upload?email=y674834119%40gmail.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab: 16张图像
INFO:api_server:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab 状态更新为: extracting
INFO:api_server:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab，包含16张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab -m /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views --n_views 16 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views/01_init_geo.log
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab -m /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views -r 1 --n_views 16 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views/02_train.log
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab -m /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views -r 1 --n_views 16 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views/03_render.log
INFO:task_manager:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab 状态更新为: completed
INFO:task_manager:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab 结果已设置
INFO:api_server:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/96d9bf42-3b05-4f7a-8aef-b3b05558dbab/16_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: y674834119@gmail.com, 主题: SceneGEN训练完成 - 任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab
INFO:     104.238.222.124:0 - "GET /status/96d9bf42-3b05-4f7a-8aef-b3b05558dbab HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '83aea03d-6a88-4e63-bb26-3fc2888bed7a'}
INFO:api_server:任务 96d9bf42-3b05-4f7a-8aef-b3b05558dbab: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46773]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [38071]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [38071]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [39111]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39111]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [40451]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:53044 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:53044 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:48348 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:48362 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:48362 - "GET /tasks HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'test_complete_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40451]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [55087]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:41650 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:41658 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:41658 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/images
INFO:task_manager:创建任务: a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884, 类型: image_reconstruction
INFO:api_server:任务创建成功: a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884
INFO:     127.0.0.1:41658 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884: 8张图像
INFO:api_server:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 状态更新为: extracting
INFO:api_server:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:41658 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views/01_init_geo.log
INFO:     127.0.0.1:48070 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:36960 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:38946 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views/02_train.log
INFO:     127.0.0.1:43018 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46510 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:40142 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59186 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:33988 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views/03_render.log
INFO:task_manager:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 状态更新为: completed
INFO:task_manager:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 结果已设置
INFO:api_server:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884
INFO:     127.0.0.1:58826 - "GET /status/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58826 - "GET /result/a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58826 - "GET /tasks HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '0e7ce7a6-8414-4103-8f3f-0fe1818c5124'}
INFO:api_server:任务 a2d1d0d2-ed08-49e3-b2b8-bf28a7a26884: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55087]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [7784]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7784]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [8034]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [8034]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [11293]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11293]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [11361]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'test_ply_path_fix.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11361]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [19805]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [19805]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [22136]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [22136]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [34596]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34596]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [36332]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36332]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [36676]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [36676]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [40828]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:37696 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:37706 - "GET /tasklist HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:37706 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:44962 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44974 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44974 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: 9bedcbb1-d4a5-4002-8428-afdc05b0d043
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/images
INFO:task_manager:创建任务: 9bedcbb1-d4a5-4002-8428-afdc05b0d043, 类型: image_reconstruction
INFO:api_server:任务创建成功: 9bedcbb1-d4a5-4002-8428-afdc05b0d043
INFO:     127.0.0.1:44974 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043: 8张图像
INFO:api_server:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043 状态更新为: extracting
INFO:api_server:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:44974 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043 -m /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views/01_init_geo.log
INFO:     127.0.0.1:37712 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:40548 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:48914 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:35644 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043 -m /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views/02_train.log
INFO:     127.0.0.1:40544 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49476 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49460 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:41438 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49460 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49460 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49460 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:35604 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:34090 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:41428 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:41428 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53212 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043 -m /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views/03_render.log
INFO:task_manager:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043 状态更新为: completed
INFO:task_manager:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043 结果已设置
INFO:api_server:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/9bedcbb1-d4a5-4002-8428-afdc05b0d043/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '3918a39d-a504-467f-952c-20e2eb0418c0'}
INFO:api_server:任务 9bedcbb1-d4a5-4002-8428-afdc05b0d043: 邮件通知发送成功
INFO:     127.0.0.1:53202 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39344 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39344 - "GET /result/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39344 - "GET /tasks HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40828]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [29245]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29245]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [29475]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29475]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [31937]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31937]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [56255]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56255]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [56666]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     127.0.0.1:53710 - "GET /status/9bedcbb1-d4a5-4002-8428-afdc05b0d043 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53718 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:44954 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44960 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44960 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: d31ed854-c8ed-4c4d-a1ef-64bbc981d6da
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/images
INFO:task_manager:创建任务: d31ed854-c8ed-4c4d-a1ef-64bbc981d6da, 类型: image_reconstruction
INFO:api_server:任务创建成功: d31ed854-c8ed-4c4d-a1ef-64bbc981d6da
INFO:     127.0.0.1:44960 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da: 8张图像
INFO:api_server:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da 状态更新为: extracting
INFO:api_server:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:44960 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da -m /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views/01_init_geo.log
INFO:     127.0.0.1:53718 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:48412 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:46424 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:53730 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:34522 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da -m /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views/02_train.log
INFO:     127.0.0.1:54504 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:46436 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:54516 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:44400 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:40854 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:40120 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:44396 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:     127.0.0.1:46740 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da -m /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views/03_render.log
INFO:task_manager:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da 状态更新为: completed
INFO:task_manager:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da 结果已设置
INFO:api_server:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'd9256fc2-37e0-4a29-b6bb-c43fd1d8d4a7'}
INFO:api_server:任务 d31ed854-c8ed-4c4d-a1ef-64bbc981d6da: 邮件通知发送成功
INFO:     127.0.0.1:58948 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 结果路径不存在
INFO:     127.0.0.1:58948 - "GET /result/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:58948 - "GET /tasks HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 结果路径不存在
INFO:     127.0.0.1:46738 - "GET /result/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60006 - "GET /status/d31ed854-c8ed-4c4d-a1ef-64bbc981d6da HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [56666]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [84899]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:40274 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:40286 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:40286 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: 4e71c563-8aa4-4b11-afff-0edd4132e502
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/images
INFO:task_manager:创建任务: 4e71c563-8aa4-4b11-afff-0edd4132e502, 类型: image_reconstruction
INFO:api_server:任务创建成功: 4e71c563-8aa4-4b11-afff-0edd4132e502
INFO:     127.0.0.1:40286 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 4e71c563-8aa4-4b11-afff-0edd4132e502: 8张图像
INFO:api_server:任务 4e71c563-8aa4-4b11-afff-0edd4132e502 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 4e71c563-8aa4-4b11-afff-0edd4132e502 状态更新为: extracting
INFO:api_server:任务 4e71c563-8aa4-4b11-afff-0edd4132e502: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:40286 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502 -m /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views/01_init_geo.log
INFO:     127.0.0.1:52658 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52664 - "GET /tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:45968 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52670 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52670 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53726 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502 -m /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views/02_train.log
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:52672 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:47528 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:52672 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:45924 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49890 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:47520 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49902 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:33188 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:54366 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 400 - 任务尚未完成
INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 400 Bad Request
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502 -m /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views/03_render.log
INFO:task_manager:任务 4e71c563-8aa4-4b11-afff-0edd4132e502 状态更新为: completed
INFO:task_manager:任务 4e71c563-8aa4-4b11-afff-0edd4132e502 结果已设置
INFO:api_server:任务 4e71c563-8aa4-4b11-afff-0edd4132e502: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/4e71c563-8aa4-4b11-afff-0edd4132e502/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 4e71c563-8aa4-4b11-afff-0edd4132e502 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 4e71c563-8aa4-4b11-afff-0edd4132e502
ERROR:api_server:全局异常: expected str, bytes or os.PathLike object, not dict
ERROR:api_server:异常详情: Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 989, in get_result_info
    result_dir = Path(task.result_data)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 960, in __new__
    self = cls._from_parts(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 594, in _from_parts
    drv, root, parts = self._parse_args(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 578, in _parse_args
    a = os.fspath(a)
TypeError: expected str, bytes or os.PathLike object, not dict

INFO:     127.0.0.1:49912 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 989, in get_result_info
    result_dir = Path(task.result_data)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 960, in __new__
    self = cls._from_parts(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 594, in _from_parts
    drv, root, parts = self._parse_args(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 578, in _parse_args
    a = os.fspath(a)
TypeError: expected str, bytes or os.PathLike object, not dict
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'd138d994-03f7-45d5-998b-5d5d9eea32ea'}
INFO:api_server:任务 4e71c563-8aa4-4b11-afff-0edd4132e502: 邮件通知发送成功
INFO:     127.0.0.1:52046 - "GET /status/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 200 OK
ERROR:api_server:全局异常: expected str, bytes or os.PathLike object, not dict
ERROR:api_server:异常详情: Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 989, in get_result_info
    result_dir = Path(task.result_data)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 960, in __new__
    self = cls._from_parts(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 594, in _from_parts
    drv, root, parts = self._parse_args(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 578, in _parse_args
    a = os.fspath(a)
TypeError: expected str, bytes or os.PathLike object, not dict

INFO:     127.0.0.1:52046 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 989, in get_result_info
    result_dir = Path(task.result_data)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 960, in __new__
    self = cls._from_parts(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 594, in _from_parts
    drv, root, parts = self._parse_args(args)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/pathlib.py", line 578, in _parse_args
    a = os.fspath(a)
TypeError: expected str, bytes or os.PathLike object, not dict
INFO:     127.0.0.1:52062 - "GET /tasks HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84899]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [9824]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:54376 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:54388 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:54388 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: d2d495c2-8e5d-4617-8f2a-5aa649f44f76
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/images
INFO:task_manager:创建任务: d2d495c2-8e5d-4617-8f2a-5aa649f44f76, 类型: image_reconstruction
INFO:api_server:任务创建成功: d2d495c2-8e5d-4617-8f2a-5aa649f44f76
INFO:     127.0.0.1:54388 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76: 8张图像
INFO:api_server:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76 状态更新为: extracting
INFO:api_server:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:54388 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views/01_init_geo.log
INFO:     127.0.0.1:36338 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49136 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:44500 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views/02_train.log
INFO:     127.0.0.1:58542 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:48202 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54936 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:40224 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49640 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views/03_render.log
INFO:task_manager:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76 状态更新为: completed
INFO:task_manager:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76 结果已设置
INFO:api_server:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '07378d0e-bda9-45f4-b692-c122c9fb5a64'}
INFO:api_server:任务 d2d495c2-8e5d-4617-8f2a-5aa649f44f76: 邮件通知发送成功
INFO:     127.0.0.1:35768 - "GET /status/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 200 OK
WARNING:api_server:数据验证错误: [{'type': 'string_type', 'loc': ('filename',), 'msg': 'Input should be a valid string', 'input': PosixPath('/home/livablecity/InstantSplat/output_infer/api_uploads/d2d495c2-8e5d-4617-8f2a-5aa649f44f76/8_views/point_cloud/iteration_500/point_cloud.ply'), 'url': 'https://errors.pydantic.dev/2.11/v/string_type'}]
ERROR:api_server:全局异常: Object of type PosixPath is not JSON serializable
ERROR:api_server:异常详情: Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 1010, in get_result_info
    file_info = FileInfo(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for FileInfo
filename
  Input should be a valid string [type=string_type, input_value=PosixPath('/home/livablec...on_500/point_cloud.ply'), input_type=PosixPath]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
  File "/home/livablecity/InstantSplat/api_server.py", line 210, in validation_exception_handler
    return JSONResponse(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type PosixPath is not JSON serializable

INFO:     127.0.0.1:35768 - "GET /result/d2d495c2-8e5d-4617-8f2a-5aa649f44f76 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
  File "/home/livablecity/InstantSplat/api_server.py", line 1010, in get_result_info
    file_info = FileInfo(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for FileInfo
filename
  Input should be a valid string [type=string_type, input_value=PosixPath('/home/livablec...on_500/point_cloud.ply'), input_type=PosixPath]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
  File "/home/livablecity/InstantSplat/api_server.py", line 210, in validation_exception_handler
    return JSONResponse(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type PosixPath is not JSON serializable
INFO:     127.0.0.1:35772 - "GET /tasks HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     127.0.0.1:52102 - "GET /result/4e71c563-8aa4-4b11-afff-0edd4132e502 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9824]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [34404]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:48160 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:48164 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:48164 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: 8da73da9-9444-4baa-94d0-9faadf8d3704
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/images
INFO:task_manager:创建任务: 8da73da9-9444-4baa-94d0-9faadf8d3704, 类型: image_reconstruction
INFO:api_server:任务创建成功: 8da73da9-9444-4baa-94d0-9faadf8d3704
INFO:     127.0.0.1:48164 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 8da73da9-9444-4baa-94d0-9faadf8d3704: 8张图像
INFO:api_server:任务 8da73da9-9444-4baa-94d0-9faadf8d3704 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 8da73da9-9444-4baa-94d0-9faadf8d3704 状态更新为: extracting
INFO:api_server:任务 8da73da9-9444-4baa-94d0-9faadf8d3704: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:48164 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views/01_init_geo.log
INFO:     127.0.0.1:46034 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:34118 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39298 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views/02_train.log
INFO:     127.0.0.1:56584 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55992 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49292 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:42738 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:44012 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704 -m /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views/03_render.log
INFO:task_manager:任务 8da73da9-9444-4baa-94d0-9faadf8d3704 状态更新为: completed
INFO:task_manager:任务 8da73da9-9444-4baa-94d0-9faadf8d3704 结果已设置
INFO:api_server:任务 8da73da9-9444-4baa-94d0-9faadf8d3704: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/8da73da9-9444-4baa-94d0-9faadf8d3704/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 8da73da9-9444-4baa-94d0-9faadf8d3704 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 8da73da9-9444-4baa-94d0-9faadf8d3704
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '268cabd1-2958-40f1-b49e-9cb039c2dc02'}
INFO:api_server:任务 8da73da9-9444-4baa-94d0-9faadf8d3704: 邮件通知发送成功
INFO:     127.0.0.1:37104 - "GET /status/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:37104 - "GET /result/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     127.0.0.1:37104 - "GET /tasks HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     127.0.0.1:51730 - "GET /download/8da73da9-9444-4baa-94d0-9faadf8d3704_point_cloud HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 400 - 无效的文件ID格式
INFO:     127.0.0.1:56384 - "GET /download/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 400 Bad Request
INFO:     104.238.222.124:0 - "GET /result/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     104.238.222.124:0 - "GET /result/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [34404]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [62634]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /result/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [62634]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [78370]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'test_complete_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [78370]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [83764]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [83764]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [85081]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [85081]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [88841]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:44040 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44050 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:44050 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: d41febdd-a473-4220-88d0-0ba9af0ec760
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/images
INFO:task_manager:创建任务: d41febdd-a473-4220-88d0-0ba9af0ec760, 类型: image_reconstruction
INFO:api_server:任务创建成功: d41febdd-a473-4220-88d0-0ba9af0ec760
INFO:     127.0.0.1:44050 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 d41febdd-a473-4220-88d0-0ba9af0ec760: 8张图像
INFO:api_server:任务 d41febdd-a473-4220-88d0-0ba9af0ec760 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 d41febdd-a473-4220-88d0-0ba9af0ec760 状态更新为: extracting
INFO:api_server:任务 d41febdd-a473-4220-88d0-0ba9af0ec760: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:44050 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views/01_init_geo.log
INFO:     127.0.0.1:33538 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:35496 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:38454 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views/02_train.log
INFO:     127.0.0.1:34496 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58488 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60142 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:36920 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:34474 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760 -m /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views/03_render.log
INFO:task_manager:任务 d41febdd-a473-4220-88d0-0ba9af0ec760 状态更新为: completed
INFO:task_manager:任务 d41febdd-a473-4220-88d0-0ba9af0ec760 结果已设置
INFO:api_server:任务 d41febdd-a473-4220-88d0-0ba9af0ec760: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/d41febdd-a473-4220-88d0-0ba9af0ec760/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 d41febdd-a473-4220-88d0-0ba9af0ec760 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 d41febdd-a473-4220-88d0-0ba9af0ec760
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '0b4b10ac-3c96-4c5a-8e84-5ea21800b572'}
INFO:api_server:任务 d41febdd-a473-4220-88d0-0ba9af0ec760: 邮件通知发送成功
INFO:     127.0.0.1:46060 - "GET /status/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46060 - "GET /result/d41febdd-a473-4220-88d0-0ba9af0ec760 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46060 - "GET /tasks HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [88841]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [11571]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11571]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [89368]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89368]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [93085]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [93085]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [97290]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [97290]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [97357]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [97357]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [69107]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69107]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [84047]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [84047]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [86898]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:34250 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:34264 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:34264 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: e576a835-06cb-4a5d-9439-7b3cc6173da3
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/images
INFO:task_manager:创建任务: e576a835-06cb-4a5d-9439-7b3cc6173da3, 类型: image_reconstruction
INFO:api_server:任务创建成功: e576a835-06cb-4a5d-9439-7b3cc6173da3
INFO:     127.0.0.1:34264 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: 8张图像
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3 状态更新为: extracting
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:34264 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views/01_init_geo.log
INFO:     127.0.0.1:35928 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:35596 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50030 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views/02_train.log
INFO:     127.0.0.1:45382 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49438 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39118 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:40242 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:42522 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views/03_render.log
INFO:task_manager:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3 状态更新为: completed
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: 开始上传PLY文件到公网服务器: e576a835-06cb-4a5d-9439-7b3cc6173da3.ply
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/e576a835-06cb-4a5d-9439-7b3cc6173da3.ply
INFO:task_manager:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3 结果已设置
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/e576a835-06cb-4a5d-9439-7b3cc6173da3/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 e576a835-06cb-4a5d-9439-7b3cc6173da3 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 e576a835-06cb-4a5d-9439-7b3cc6173da3
INFO:     127.0.0.1:54910 - "GET /status/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54910 - "GET /result/e576a835-06cb-4a5d-9439-7b3cc6173da3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54910 - "GET /tasks HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '06f453b4-ed16-4aba-9ab2-0e0d505ece17'}
INFO:api_server:任务 e576a835-06cb-4a5d-9439-7b3cc6173da3: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含5张图像
INFO:api_server:生成任务ID: 5342ddf1-34bf-4f12-bc1c-4b4002a38634
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/temp_scan_images.zip
INFO:api_server:成功提取5张图像到/home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/images
INFO:task_manager:创建任务: 5342ddf1-34bf-4f12-bc1c-4b4002a38634, 类型: image_reconstruction
INFO:api_server:任务创建成功: 5342ddf1-34bf-4f12-bc1c-4b4002a38634
INFO:     183.24.41.215:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: 5张图像
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634 状态更新为: extracting
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634，包含5张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views --n_views 5 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views/01_init_geo.log
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views -r 1 --n_views 5 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views/02_train.log
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634 -m /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views -r 1 --n_views 5 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views/03_render.log
INFO:task_manager:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634 状态更新为: completed
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: 开始上传PLY文件到公网服务器: 5342ddf1-34bf-4f12-bc1c-4b4002a38634.ply
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/5342ddf1-34bf-4f12-bc1c-4b4002a38634.ply
INFO:task_manager:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634 结果已设置
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/5342ddf1-34bf-4f12-bc1c-4b4002a38634/5_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634
INFO:     183.24.41.215:0 - "GET /status/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '20f1b876-8128-458d-b01b-6722e3af96c1'}
INFO:api_server:任务 5342ddf1-34bf-4f12-bc1c-4b4002a38634: 邮件通知发送成功
INFO:     183.24.41.215:0 - "GET /result/5342ddf1-34bf-4f12-bc1c-4b4002a38634 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含6张图像
INFO:api_server:生成任务ID: 1b0d8c2c-75b3-430d-bc9d-e8883125100b
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/temp_scan_images.zip
INFO:api_server:成功提取6张图像到/home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/images
INFO:task_manager:创建任务: 1b0d8c2c-75b3-430d-bc9d-e8883125100b, 类型: image_reconstruction
INFO:api_server:任务创建成功: 1b0d8c2c-75b3-430d-bc9d-e8883125100b
INFO:     183.24.41.215:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: 6张图像
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b 状态更新为: extracting
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b，包含6张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b -m /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views --n_views 6 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views/01_init_geo.log
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b -m /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views -r 1 --n_views 6 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views/02_train.log
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b -m /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views -r 1 --n_views 6 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views/03_render.log
INFO:task_manager:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b 状态更新为: completed
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: 开始上传PLY文件到公网服务器: 1b0d8c2c-75b3-430d-bc9d-e8883125100b.ply
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/1b0d8c2c-75b3-430d-bc9d-e8883125100b.ply
INFO:task_manager:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b 结果已设置
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/1b0d8c2c-75b3-430d-bc9d-e8883125100b/6_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b
INFO:     183.24.41.215:0 - "GET /status/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'ce4efda1-cbcd-4254-ae0d-327759b26fab'}
INFO:api_server:任务 1b0d8c2c-75b3-430d-bc9d-e8883125100b: 邮件通知发送成功
INFO:     183.24.41.215:0 - "GET /result/1b0d8c2c-75b3-430d-bc9d-e8883125100b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含5张图像
INFO:api_server:生成任务ID: 3385d880-edc8-40f9-acd6-2f77f633b65a
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/temp_scan_images.zip
INFO:api_server:成功提取5张图像到/home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/images
INFO:task_manager:创建任务: 3385d880-edc8-40f9-acd6-2f77f633b65a, 类型: image_reconstruction
INFO:api_server:任务创建成功: 3385d880-edc8-40f9-acd6-2f77f633b65a
INFO:     183.24.41.215:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 3385d880-edc8-40f9-acd6-2f77f633b65a: 5张图像
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 3385d880-edc8-40f9-acd6-2f77f633b65a 状态更新为: extracting
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a，包含5张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a -m /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views --n_views 5 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views/01_init_geo.log
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a -m /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views -r 1 --n_views 5 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views/02_train.log
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a -m /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views -r 1 --n_views 5 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views/03_render.log
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:task_manager:任务 3385d880-edc8-40f9-acd6-2f77f633b65a 状态更新为: completed
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: 开始上传PLY文件到公网服务器: 3385d880-edc8-40f9-acd6-2f77f633b65a.ply
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/3385d880-edc8-40f9-acd6-2f77f633b65a.ply
INFO:task_manager:任务 3385d880-edc8-40f9-acd6-2f77f633b65a 结果已设置
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/3385d880-edc8-40f9-acd6-2f77f633b65a/5_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 3385d880-edc8-40f9-acd6-2f77f633b65a keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 3385d880-edc8-40f9-acd6-2f77f633b65a
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'd10231b5-5fc2-4969-9681-901074053e25'}
INFO:api_server:任务 3385d880-edc8-40f9-acd6-2f77f633b65a: 邮件通知发送成功
INFO:     183.24.41.215:0 - "GET /status/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [86898]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [40183]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40183]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [40299]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'supabase_email_notifier.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [40299]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [41241]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'supabase_email_notifier.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41241]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [41259]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [41259]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [44520]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44520]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [46487]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [46487]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [47007]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [47007]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [48302]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [48302]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [48733]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /result/3385d880-edc8-40f9-acd6-2f77f633b65a HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     27.44.125.29:0 - "GET /result/8da73da9-9444-4baa-94d0-9faadf8d3704 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [48733]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [71086]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [71086]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [74183]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含5张图像
INFO:api_server:生成任务ID: 3498f605-d1ff-44e2-a758-ba50f6305e79
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/temp_scan_images.zip
INFO:api_server:成功提取5张图像到/home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/images
INFO:task_manager:创建任务: 3498f605-d1ff-44e2-a758-ba50f6305e79, 类型: image_reconstruction
INFO:api_server:任务创建成功: 3498f605-d1ff-44e2-a758-ba50f6305e79
INFO:     104.238.222.124:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 3498f605-d1ff-44e2-a758-ba50f6305e79: 5张图像
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 3498f605-d1ff-44e2-a758-ba50f6305e79 状态更新为: extracting
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79，包含5张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views --n_views 5 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views/01_init_geo.log
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views -r 1 --n_views 5 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views/02_train.log
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79 -m /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views -r 1 --n_views 5 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views/03_render.log
INFO:task_manager:任务 3498f605-d1ff-44e2-a758-ba50f6305e79 状态更新为: completed
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79: 开始上传PLY文件到公网服务器: 3498f605-d1ff-44e2-a758-ba50f6305e79.ply
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/3498f605-d1ff-44e2-a758-ba50f6305e79.ply
INFO:task_manager:任务 3498f605-d1ff-44e2-a758-ba50f6305e79 结果已设置
INFO:api_server:任务 3498f605-d1ff-44e2-a758-ba50f6305e79: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/3498f605-d1ff-44e2-a758-ba50f6305e79/5_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 3498f605-d1ff-44e2-a758-ba50f6305e79 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
ERROR:api_server:发送邮件通知失败 3498f605-d1ff-44e2-a758-ba50f6305e79: send_training_completion_email() got an unexpected keyword argument 'public_url'
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:     104.238.222.124:0 - "GET /result/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [74183]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [11786]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11786]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [12081]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含16张图像
INFO:api_server:生成任务ID: ba4ae696-1847-4ffa-8302-6bd36422ace0
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/temp_scan_images.zip
INFO:api_server:成功提取16张图像到/home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/images
INFO:task_manager:创建任务: ba4ae696-1847-4ffa-8302-6bd36422ace0, 类型: image_reconstruction
INFO:api_server:任务创建成功: ba4ae696-1847-4ffa-8302-6bd36422ace0
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: 16张图像
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0 状态更新为: extracting
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0，包含16张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0 -m /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views --n_views 16 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views/01_init_geo.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0 -m /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views -r 1 --n_views 16 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views/02_train.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0 -m /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views -r 1 --n_views 16 --iterations 500 --infer_video
INFO:task_manager:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0 状态更新为: completed
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views/03_render.log
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: 开始上传PLY文件到公网服务器: ba4ae696-1847-4ffa-8302-6bd36422ace0.ply
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/ba4ae696-1847-4ffa-8302-6bd36422ace0.ply
INFO:task_manager:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0 结果已设置
INFO:api_server:任务 ba4ae696-1847-4ffa-8302-6bd36422ace0: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/ba4ae696-1847-4ffa-8302-6bd36422ace0/16_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 ba4ae696-1847-4ffa-8302-6bd36422ace0 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
ERROR:api_server:发送邮件通知失败 ba4ae696-1847-4ffa-8302-6bd36422ace0: send_training_completion_email() got an unexpected keyword argument 'public_url'
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [12081]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [59503]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含16张图像
INFO:api_server:生成任务ID: c44ad266-315b-4aba-8e9d-4c6e6a20b823
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/temp_scan_images.zip
INFO:api_server:成功提取16张图像到/home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/images
INFO:task_manager:创建任务: c44ad266-315b-4aba-8e9d-4c6e6a20b823, 类型: image_reconstruction
INFO:api_server:任务创建成功: c44ad266-315b-4aba-8e9d-4c6e6a20b823
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: 16张图像
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823 状态更新为: extracting
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823，包含16张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views --n_views 16 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views/01_init_geo.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views -r 1 --n_views 16 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views/02_train.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823 -m /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views -r 1 --n_views 16 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views/03_render.log
INFO:task_manager:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823 状态更新为: completed
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: 开始上传PLY文件到公网服务器: c44ad266-315b-4aba-8e9d-4c6e6a20b823.ply
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/c44ad266-315b-4aba-8e9d-4c6e6a20b823.ply
INFO:task_manager:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823 结果已设置
INFO:api_server:任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/c44ad266-315b-4aba-8e9d-4c6e6a20b823/16_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 c44ad266-315b-4aba-8e9d-4c6e6a20b823 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
ERROR:api_server:发送邮件通知失败 c44ad266-315b-4aba-8e9d-4c6e6a20b823: SupabaseEmailNotifier.send_training_completion_notification() got an unexpected keyword argument 'download_url'
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/c44ad266-315b-4aba-8e9d-4c6e6a20b823 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /result/ba4ae696-1847-4ffa-8302-6bd36422ace0 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'supabase_email_notifier.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [59503]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [65594]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [65594]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [65972]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [65972]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [66104]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [66104]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [66329]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [66329]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [66358]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [66358]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [67082]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [67082]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [67205]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:43132 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43136 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43146 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: a4709d2a-6029-4876-9956-ed67c59b5865
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/images
INFO:task_manager:创建任务: a4709d2a-6029-4876-9956-ed67c59b5865, 类型: image_reconstruction
INFO:api_server:任务创建成功: a4709d2a-6029-4876-9956-ed67c59b5865
INFO:     127.0.0.1:43154 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a4709d2a-6029-4876-9956-ed67c59b5865: 8张图像
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a4709d2a-6029-4876-9956-ed67c59b5865 状态更新为: extracting
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:     127.0.0.1:43170 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views/01_init_geo.log
INFO:     127.0.0.1:46508 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55620 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:33104 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views/02_train.log
INFO:     127.0.0.1:60426 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:35936 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:58448 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:47212 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:46266 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views/03_render.log
INFO:task_manager:任务 a4709d2a-6029-4876-9956-ed67c59b5865 状态更新为: completed
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: 开始上传PLY文件到公网服务器: a4709d2a-6029-4876-9956-ed67c59b5865.ply
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/a4709d2a-6029-4876-9956-ed67c59b5865.ply
INFO:task_manager:任务 a4709d2a-6029-4876-9956-ed67c59b5865 结果已设置
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/a4709d2a-6029-4876-9956-ed67c59b5865/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 a4709d2a-6029-4876-9956-ed67c59b5865 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 a4709d2a-6029-4876-9956-ed67c59b5865
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'e57eb098-d5b2-48e0-a0f9-27e3f870b540'}
INFO:api_server:任务 a4709d2a-6029-4876-9956-ed67c59b5865: 邮件通知发送成功
INFO:     127.0.0.1:36434 - "GET /status/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:36450 - "GET /result/a4709d2a-6029-4876-9956-ed67c59b5865 HTTP/1.1" 200 OK
INFO:     127.0.0.1:36466 - "GET /tasks HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [67205]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [61365]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [61365]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [95650]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:43478 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43494 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43494 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: a4649f56-1aa6-4fd2-ad96-10958a79bacd
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/images
INFO:task_manager:创建任务: a4649f56-1aa6-4fd2-ad96-10958a79bacd, 类型: image_reconstruction
INFO:api_server:任务创建成功: a4649f56-1aa6-4fd2-ad96-10958a79bacd
INFO:     127.0.0.1:43494 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: 8张图像
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd 状态更新为: extracting
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:43494 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views/01_init_geo.log
INFO:     127.0.0.1:54376 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:54520 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:52590 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views/02_train.log
INFO:     127.0.0.1:60970 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:42078 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:34702 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:51930 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
WARNING:api_server:HTTP异常: 404 - 任务不存在
INFO:     104.238.222.124:0 - "GET /status/3498f605-d1ff-44e2-a758-ba50f6305e79 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:53058 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd -m /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views/03_render.log
INFO:task_manager:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd 状态更新为: completed
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: 开始上传PLY文件到公网服务器: a4649f56-1aa6-4fd2-ad96-10958a79bacd.ply
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/a4649f56-1aa6-4fd2-ad96-10958a79bacd.ply
INFO:task_manager:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd 结果已设置
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/a4649f56-1aa6-4fd2-ad96-10958a79bacd/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'bfe8bb62-61db-487b-9397-5e8abbf51d7f'}
INFO:api_server:任务 a4649f56-1aa6-4fd2-ad96-10958a79bacd: 邮件通知发送成功
INFO:     127.0.0.1:50822 - "GET /status/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:50822 - "GET /result/a4649f56-1aa6-4fd2-ad96-10958a79bacd HTTP/1.1" 200 OK
INFO:     127.0.0.1:50822 - "GET /tasks HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [95650]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [39373]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:43076 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43092 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43092 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: cfb22392-9293-4c55-ac95-fd0300ed5d2b
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/images
INFO:task_manager:创建任务: cfb22392-9293-4c55-ac95-fd0300ed5d2b, 类型: image_reconstruction
INFO:api_server:任务创建成功: cfb22392-9293-4c55-ac95-fd0300ed5d2b
INFO:     127.0.0.1:43092 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: 8张图像
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b 状态更新为: extracting
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:43092 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b -m /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views/01_init_geo.log
INFO:     127.0.0.1:57470 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:40682 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:43972 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b -m /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views/02_train.log
INFO:     127.0.0.1:47846 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:38120 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:46716 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:41462 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:58030 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b -m /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views/03_render.log
INFO:task_manager:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b 状态更新为: completed
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: ply_file_path: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: 开始上传PLY文件到公网服务器: cfb22392-9293-4c55-ac95-fd0300ed5d2b.ply
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/cfb22392-9293-4c55-ac95-fd0300ed5d2b.ply
INFO:task_manager:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b 结果已设置
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/cfb22392-9293-4c55-ac95-fd0300ed5d2b/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'e32bc9a6-645f-4ca0-8e14-8bfe06325d54'}
INFO:api_server:任务 cfb22392-9293-4c55-ac95-fd0300ed5d2b: 邮件通知发送成功
INFO:     127.0.0.1:33216 - "GET /status/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:33216 - "GET /result/cfb22392-9293-4c55-ac95-fd0300ed5d2b HTTP/1.1" 200 OK
INFO:     127.0.0.1:33216 - "GET /tasks HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [39373]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [13781]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13781]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [14105]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14105]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [16602]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16602]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [16763]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16763]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [32029]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [32029]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [44075]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:43194 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43196 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:43196 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: a95269e9-8b57-40a8-ae2b-d6f52a83b503
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/images
INFO:task_manager:创建任务: a95269e9-8b57-40a8-ae2b-d6f52a83b503, 类型: image_reconstruction
INFO:api_server:任务创建成功: a95269e9-8b57-40a8-ae2b-d6f52a83b503
INFO:     127.0.0.1:43196 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 8张图像
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503 状态更新为: extracting
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:43196 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/01_init_geo.log
INFO:     127.0.0.1:60190 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:48476 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:48622 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/02_train.log
INFO:     127.0.0.1:33132 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:33718 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52720 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:39810 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:37504 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503 -m /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/03_render.log
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:task_manager:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503 状态更新为: completed
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views/point_cloud/iteration_500/point_cloud.compressed.ply
ERROR:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: PLY文件压缩失败: sh: error while loading shared libraries: sh: cannot open shared object file

INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 将使用原始PLY文件进行上传
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 开始上传PLY文件到公网服务器: a95269e9-8b57-40a8-ae2b-d6f52a83b503.compressed.ply
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/a95269e9-8b57-40a8-ae2b-d6f52a83b503.compressed.ply
INFO:task_manager:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503 结果已设置
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/a95269e9-8b57-40a8-ae2b-d6f52a83b503/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'edc30219-1366-4059-a0f2-5d3e79cc8437'}
INFO:api_server:任务 a95269e9-8b57-40a8-ae2b-d6f52a83b503: 邮件通知发送成功
INFO:     127.0.0.1:51374 - "GET /status/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51374 - "GET /result/a95269e9-8b57-40a8-ae2b-d6f52a83b503 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51374 - "GET /tasks HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
WARNING:  StatReload detected changes in 'test_ply_compression.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [44075]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
WARNING:  StatReload detected changes in 'test_ply_compression.py'. Reloading...
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [89993]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'api_server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [89993]
INFO:task_manager:启动任务清理线程，清理间隔: 3600秒
INFO:supabase_email_notifier:已加载环境变量文件: .env.supabase
INFO:     Started server process [16727]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:40816 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:40826 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:40826 - "GET /tasks HTTP/1.1" 200 OK
INFO:api_server:收到文件上传请求: test_images_complete.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含8张图像
INFO:api_server:生成任务ID: da4908d2-9f87-4354-ad44-a36dde1fee2c
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/temp_test_images_complete.zip
INFO:api_server:成功提取8张图像到/home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/images
INFO:task_manager:创建任务: da4908d2-9f87-4354-ad44-a36dde1fee2c, 类型: image_reconstruction
INFO:api_server:任务创建成功: da4908d2-9f87-4354-ad44-a36dde1fee2c
INFO:     127.0.0.1:40826 - "POST /upload?email=674834119@qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 8张图像
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c 状态更新为: extracting
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c，包含8张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:     127.0.0.1:40826 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c -m /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views --n_views 8 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/01_init_geo.log
INFO:     127.0.0.1:50012 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:37218 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:56372 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c -m /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views -r 1 --n_views 8 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/02_train.log
INFO:     127.0.0.1:35134 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:38868 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:45596 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:55092 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:51480 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c -m /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views -r 1 --n_views 8 --iterations 500 --infer_video
INFO:task_manager:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c 状态更新为: completed
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/03_render.log
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: PLY文件压缩成功，原大小: 270530844 bytes, 压缩后: 66850142 bytes, 压缩率: 75.3%
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 开始上传PLY文件到公网服务器: da4908d2-9f87-4354-ad44-a36dde1fee2c.compressed.ply
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/da4908d2-9f87-4354-ad44-a36dde1fee2c.compressed.ply
INFO:task_manager:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c 结果已设置
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/da4908d2-9f87-4354-ad44-a36dde1fee2c/8_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 da4908d2-9f87-4354-ad44-a36dde1fee2c keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:Supabase邮件通知器初始化完成: https://hmcmyrfvdmrnrbgyvjhx.supabase.co/functions/v1/send-notification-email
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 da4908d2-9f87-4354-ad44-a36dde1fee2c
INFO:     127.0.0.1:48904 - "GET /status/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:48904 - "GET /result/da4908d2-9f87-4354-ad44-a36dde1fee2c HTTP/1.1" 200 OK
INFO:     127.0.0.1:48904 - "GET /tasks HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'b3fb065b-16ac-43b9-8af3-e2845e53f2f3'}
INFO:api_server:任务 da4908d2-9f87-4354-ad44-a36dde1fee2c: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含9张图像
INFO:api_server:生成任务ID: 2f593997-698d-48e9-abb9-13a7d032615b
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/temp_scan_images.zip
INFO:api_server:成功提取9张图像到/home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/images
INFO:task_manager:创建任务: 2f593997-698d-48e9-abb9-13a7d032615b, 类型: image_reconstruction
INFO:api_server:任务创建成功: 2f593997-698d-48e9-abb9-13a7d032615b
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 2f593997-698d-48e9-abb9-13a7d032615b: 9张图像
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 2f593997-698d-48e9-abb9-13a7d032615b 状态更新为: extracting
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b，包含9张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b -m /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views --n_views 9 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/01_init_geo.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b -m /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views -r 1 --n_views 9 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/02_train.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b -m /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views -r 1 --n_views 9 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/03_render.log
INFO:task_manager:任务 2f593997-698d-48e9-abb9-13a7d032615b 状态更新为: completed
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: PLY文件压缩成功，原大小: 311132660 bytes, 压缩后: 76882887 bytes, 压缩率: 75.3%
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: 开始上传PLY文件到公网服务器: 2f593997-698d-48e9-abb9-13a7d032615b.compressed.ply
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/2f593997-698d-48e9-abb9-13a7d032615b.compressed.ply
INFO:task_manager:任务 2f593997-698d-48e9-abb9-13a7d032615b 结果已设置
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/2f593997-698d-48e9-abb9-13a7d032615b/9_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 2f593997-698d-48e9-abb9-13a7d032615b keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 2f593997-698d-48e9-abb9-13a7d032615b
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/2f593997-698d-48e9-abb9-13a7d032615b HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '58479fee-1977-489e-b47f-d6db596ea156'}
INFO:api_server:任务 2f593997-698d-48e9-abb9-13a7d032615b: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含16张图像
INFO:api_server:生成任务ID: 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/temp_scan_images.zip
INFO:api_server:成功提取16张图像到/home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/images
INFO:task_manager:创建任务: 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3, 类型: image_reconstruction
INFO:api_server:任务创建成功: 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 16张图像
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 状态更新为: extracting
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3，包含16张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views --n_views 16 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/01_init_geo.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views -r 1 --n_views 16 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/02_train.log
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 -m /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views -r 1 --n_views 16 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/03_render.log
INFO:task_manager:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 状态更新为: completed
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: PLY文件压缩成功，原大小: 547890324 bytes, 压缩后: 135386123 bytes, 压缩率: 75.3%
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 开始上传PLY文件到公网服务器: 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3.compressed.ply
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3.compressed.ply
INFO:task_manager:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 结果已设置
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3/16_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/516b35b0-bfa9-4dab-b24b-edd4cd37d0d3 HTTP/1.1" 200 OK
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'f5c89200-2f13-4131-a3dd-9cdc7c0d1fac'}
INFO:api_server:任务 516b35b0-bfa9-4dab-b24b-edd4cd37d0d3: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含10张图像
INFO:api_server:生成任务ID: 767d3d1c-bf38-4c26-b4b7-2493abf8aa84
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/temp_scan_images.zip
INFO:api_server:成功提取10张图像到/home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/images
INFO:task_manager:创建任务: 767d3d1c-bf38-4c26-b4b7-2493abf8aa84, 类型: image_reconstruction
INFO:api_server:任务创建成功: 767d3d1c-bf38-4c26-b4b7-2493abf8aa84
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 10张图像
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84 状态更新为: extracting
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84，包含10张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84 -m /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views --n_views 10 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/01_init_geo.log
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84 -m /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views -r 1 --n_views 10 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/02_train.log
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84 -m /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views -r 1 --n_views 10 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/03_render.log
INFO:task_manager:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84 状态更新为: completed
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: PLY文件压缩成功，原大小: 274240924 bytes, 压缩后: 67766878 bytes, 压缩率: 75.3%
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 开始上传PLY文件到公网服务器: 767d3d1c-bf38-4c26-b4b7-2493abf8aa84.compressed.ply
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/767d3d1c-bf38-4c26-b4b7-2493abf8aa84.compressed.ply
INFO:task_manager:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84 结果已设置
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/767d3d1c-bf38-4c26-b4b7-2493abf8aa84/10_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': 'ceeaa96f-3f9e-47da-ba98-3115417f992b'}
INFO:api_server:任务 767d3d1c-bf38-4c26-b4b7-2493abf8aa84: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含7张图像
INFO:api_server:生成任务ID: 6c7478c0-8402-46b4-845b-a6b74e2b434e
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/temp_scan_images.zip
INFO:api_server:成功提取7张图像到/home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/images
INFO:task_manager:创建任务: 6c7478c0-8402-46b4-845b-a6b74e2b434e, 类型: image_reconstruction
INFO:api_server:任务创建成功: 6c7478c0-8402-46b4-845b-a6b74e2b434e
INFO:     50.7.253.67:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 7张图像
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e 状态更新为: extracting
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e，包含7张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e -m /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views --n_views 7 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e -m /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views -r 1 --n_views 7 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/02_train.log
INFO:api_server:收到文件上传请求: scan_images.zip, email参数: 674834119@qq.com
INFO:api_server:email参数类型: <class 'str'>, 是否为None: False
INFO:api_server:zip文件验证成功，包含16张图像
INFO:api_server:生成任务ID: 49e18291-9f25-4049-afec-30ad5599c5a7
INFO:api_server:创建标准目录结构: /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7
INFO:api_server:zip文件保存成功: /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/temp_scan_images.zip
INFO:api_server:成功提取16张图像到/home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/images
INFO:task_manager:创建任务: 49e18291-9f25-4049-afec-30ad5599c5a7, 类型: image_reconstruction
INFO:api_server:任务创建成功: 49e18291-9f25-4049-afec-30ad5599c5a7
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "POST /upload?email=674834119%40qq.com HTTP/1.1" 200 OK
INFO:api_server:开始处理多图像重建任务 49e18291-9f25-4049-afec-30ad5599c5a7: 16张图像
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:task_manager:任务 49e18291-9f25-4049-afec-30ad5599c5a7 状态更新为: extracting
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: 使用场景路径 /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7，包含16张图像
INFO:ReconstructionProcessor:Progress: 5.0% - 验证输入目录结构...
INFO:ReconstructionProcessor:Progress: 15.0% - 执行几何初始化...
INFO:ReconstructionProcessor:Running geometry initialization: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 -W ignore ./init_geo.py -s /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7 -m /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views --n_views 16 --focal_avg --co_vis_dsp --conf_aware_ranking --infer_video
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/01_init_geo.log
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e -m /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views -r 1 --n_views 7 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/03_render.log
INFO:task_manager:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e 状态更新为: completed
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: PLY文件压缩成功，原大小: 170866835 bytes, 压缩后: 42222969 bytes, 压缩率: 75.3%
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 开始上传PLY文件到公网服务器: 6c7478c0-8402-46b4-845b-a6b74e2b434e.compressed.ply
INFO:ReconstructionProcessor:Geometry initialization completed successfully
INFO:ReconstructionProcessor:Progress: 30.0% - 开始模型训练...
INFO:ReconstructionProcessor:Running training: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./train.py -s /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7 -m /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views -r 1 --n_views 16 --iterations 500 --pp_optimizer --optim_pose
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/02_train.log
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/6c7478c0-8402-46b4-845b-a6b74e2b434e.compressed.ply
INFO:task_manager:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e 结果已设置
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 6c7478c0-8402-46b4-845b-a6b74e2b434e keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 6c7478c0-8402-46b4-845b-a6b74e2b434e
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     50.7.253.67:0 - "GET /status/6c7478c0-8402-46b4-845b-a6b74e2b434e HTTP/1.1" 200 OK
ERROR:ReconstructionProcessor:Rendering failed. Log content:  args.skip_test, args)
  File "/home/livablecity/InstantSplat/./render.py", line 200, in render_sets
    scene = Scene(dataset, gaussians, load_iteration=iteration, opt=args, shuffle=False)
  File "/home/livablecity/InstantSplat/scene/__init__.py", line 82, in __init__
    self.gaussians.load_ply(os.path.join(self.model_path,
  File "/home/livablecity/InstantSplat/scene/gaussian_model.py", line 286, in load_ply
    plydata = PlyData.read(path)
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/plyfile.py", line 157, in read
    (must_close, stream) = _open_stream(stream, 'read')
  File "/home/livablecity/miniconda3/envs/instantsplat/lib/python3.10/site-packages/plyfile.py", line 1347, in _open_stream
    return (True, open(stream, read_or_write[0] + 'b'))
FileNotFoundError: [Errno 2] No such file or directory: '/home/livablecity/InstantSplat/output_infer/api_uploads/6c7478c0-8402-46b4-845b-a6b74e2b434e/7_views/point_cloud/iteration_500/point_cloud.ply'

INFO:ReconstructionProcessor:Async rendering task completed
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '780df093-884f-430b-8b34-714473e7071d'}
INFO:api_server:任务 6c7478c0-8402-46b4-845b-a6b74e2b434e: 邮件通知发送成功
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:     240e:47c:1010:4114:bc3e:886a:902b:1de4:0 - "GET /status/49e18291-9f25-4049-afec-30ad5599c5a7 HTTP/1.1" 200 OK
INFO:ReconstructionProcessor:Training completed successfully
INFO:ReconstructionProcessor:Progress: 85.0% - 收集训练结果...
INFO:ReconstructionProcessor:Found ply file: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/point_cloud/iteration_500/point_cloud.ply
INFO:ReconstructionProcessor:Collected 1 training result files
INFO:ReconstructionProcessor:Progress: 90.0% - 启动渲染任务...
INFO:ReconstructionProcessor:Starting async rendering task...
INFO:ReconstructionProcessor:Async rendering thread started
INFO:ReconstructionProcessor:Running rendering: /home/livablecity/miniconda3/envs/instantsplat/bin/python3 ./render.py -s /home/livablecity/InstantSplat/assets/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7 -m /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views -r 1 --n_views 16 --iterations 500 --infer_video
INFO:ReconstructionProcessor:Progress: 100.0% - 重建完成
INFO:ReconstructionProcessor:Log will be saved to: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/03_render.log
INFO:task_manager:任务 49e18291-9f25-4049-afec-30ad5599c5a7 状态更新为: completed
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: 开始压缩PLY文件: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/point_cloud/iteration_500/point_cloud.ply -> /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views/point_cloud/iteration_500/point_cloud.compressed.ply
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: PLY文件压缩成功，原大小: 552224124 bytes, 压缩后: 136457066 bytes, 压缩率: 75.3%
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: 开始上传PLY文件到公网服务器: 49e18291-9f25-4049-afec-30ad5599c5a7.compressed.ply
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: PLY文件上传成功，公网URL: https://livablecitylab.hkust-gz.edu.cn/SceneGEN_data/49e18291-9f25-4049-afec-30ad5599c5a7.compressed.ply
INFO:task_manager:任务 49e18291-9f25-4049-afec-30ad5599c5a7 结果已设置
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: 多图像三维重建完成，输出目录: /home/livablecity/InstantSplat/output_infer/api_uploads/49e18291-9f25-4049-afec-30ad5599c5a7/16_views
INFO:api_server:开始发送邮件 - 任务task is None:False- task-email is None:False keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:api_server:开始发送邮件 - 任务 49e18291-9f25-4049-afec-30ad5599c5a7 keys: dict_keys(['task_id', 'input_path', 'scene_path', 'images_path', 'filename', 'file_size', 'file_type', 'email'])
INFO:supabase_email_notifier:发送邮件通知到: 674834119@qq.com, 主题: SceneGEN训练完成 - 任务 49e18291-9f25-4049-afec-30ad5599c5a7
INFO:supabase_email_notifier:邮件发送成功: {'success': True, 'message': 'Email sent successfully', 'email_id': '3a6d47bf-53d0-4d64-9b27-c7b72a1a52c8'}
INFO:api_server:任务 49e18291-9f25-4049-afec-30ad5599c5a7: 邮件通知发送成功
INFO:ReconstructionProcessor:Rendering completed successfully
INFO:ReconstructionProcessor:Async rendering task completed
